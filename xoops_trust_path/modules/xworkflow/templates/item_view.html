<div class="<{$xoops_dirname}>">
<{include file="db:`$xoops_dirname`_inc_menu.html"}>

<h1><{"`$constpref`_LANG_ITEM_VIEW"|constant}></h1>

<dl class="dl-horizontal">
  <dt><{"`$constpref`_LANG_TITLE"|constant}></dt>
  <dd><a href="<{$object->get('url')}>"><{$object->getShow('title')}></a></dd>
  <dt><{"`$constpref`_LANG_DIRNAME"|constant}></dt>
  <dd><{$object->getShow('dirname')}></dd>
  <dt><{"`$constpref`_LANG_DATANAME"|constant}></dt>
<{assign var=dirname value=$object->get('dirname')}>
<{assign var=dataname value=$object->get('dataname')}>
<{if isset($clients.$dirname.$dataname) }>
  <dd><{$clients.$dirname.$dataname.label|xoops_escape}></dd>
<{else}>
  <dd><{$object->getShow('dataname')}></dd>
<{/if}>
  <dt><{"`$constpref`_LANG_TARGET_ID"|constant}></dt>
  <dd><{$object->getShow('target_id')}></dd>
  <dt><{"`$constpref`_LANG_CREATED_BY"|constant}></dt>
  <dd><{$object->getShow('uid')|xoops_user:"user_name"}></dd>
  <dt><{"`$constpref`_LANG_STEP"|constant}></dt>
  <dd><{$object->getShow('step')}></dd>
  <dt><{"`$constpref`_LANG_STATUS"|constant}></dt>
  <dd><{$object->getShowStatus()}></dd>
  <dt><{"`$constpref`_LANG_POSTTIME"|constant}></dt>
  <dd><{$object->get('posttime')|xoops_formattimestamp:m}></dd>
<{if $object->get('deletetime')>0}>
  <dt><{"`$constpref`_LANG_DELETETIME"|constant}></dt>
  <dd><{$object->get('deletetime')|xoops_formattimestamp:m}></dd>
<{/if}>
</dl>

<{if !empty($object->mHistory)}>
<h2><{"`$constpref`_LANG_HISTORY"|constant}></h2>
<table class="table table-striped">
  <thead>
  <tr class="head">
    <th><{"`$constpref`_LANG_APPROVED_BY"|constant}></th>
    <th><{"`$constpref`_LANG_STEP"|constant}></th>
    <th><{"`$constpref`_LANG_RESULT"|constant}></th>
    <th><{"`$constpref`_LANG_COMMENT"|constant}></th>
    <th><{"`$constpref`_LANG_APPROVEDTIME"|constant}></th>
  </tr>
  </thead>
  <tbody>
<{foreach item=history from=$object->mHistory}>
  <tr class="<{cycle values='odd,even'}>">
    <td><{$history->getShow('uid')|xoops_user:"user_name"}></td>
    <td><{$history->getShow('step')}></td>
    <td><{$history->getShowResult()}></td>
    <td><{$history->getShow('comment')}></td>
    <td><{$history->getShow('posttime')|xoops_formattimestamp:m}></td>
  </tr>
<{/foreach}>
  </tbody>
</table>
<{/if}>
</div>
